程序迁移

程序迁移步骤；
程序迁移--》配置文件迁移--》数据文件迁移--》地址修改--》权限相关

迁移的顺序
数据库--》php程序

迁移数据库
1.安装mariadb-server
2.启动服务
3.备份旧数据库的数据
4.将原来的数据导入新数据库
5.修改程序中数据库的指向
6.给php程序授权

迁移php程序 （完全按照迁移的顺序）
1.安装软件 php php-mysql spawn-fcgi
2.迁移spawn-fcgi的配置文件（迁移服务）
3.迁移数据文件
4.修改nginx配置文件，将php请求交给新的php服务器
5.添加uid gid 和迁移前一致的nginx用户（保证ugo权限要和迁移前一致）
6.数据库给新的php服务器授权
7.启动所有服务
具体步骤见文档




php程序的复制
1.安装软件
2.复制php进程管理器的配置文件
3.复制数据文件
4.修改nginx的主配置文件和网站对应的配置文件（将php请求交给多台php服务器）
5.创建用户nginx
6.数据库授权
7.启动所有的服务


数据一致性问题（session问题）
可用通过配置共享存储来解决

